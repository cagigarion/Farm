2023-05-09 15:47:27,303 the container d55baaae4581  has been crated with module <Image: 'etl-modules:latest'> and name is sensor_data_644b808429387d3cb0318da0
2023-05-09 08:47:27,704 - root - INFO - set interval config:/home/conf/sensor_data_644b808429387d3cb0318da0/interval.config
2023-05-09 08:47:27,705 - root - INFO - starting function set_run_next_time
2023-05-09 08:47:27,705 - root - INFO - interval_config_path:/home/conf/sensor_data_644b808429387d3cb0318da0/interval.config
2023-05-09 08:47:27,705 - root - INFO - set next time value: {"run_next_time": null}
2023-05-09 08:47:27,709 - root - DEBUG - Info Config {'id': '644b808429387d3cb0318da0', 'name': 'sensor_data', 'jobId': '645a089d1628d80b5c824968', 'jobTaskId': '645a089e1628d80b5c824969', 'build_operation': {'ops': [{'type': 'filter', 'id': 1682668432765, 'value': [{'or': [{'__comment': 'specification of an op, specific to op', 'at': '$', 'where': {'field': 'timestamp', 'operator': 'expression', 'value': 'interval(60)'}}]}]}, {'type': 'enrich_api', 'id': 1682668452563, 'value': [{'api_link': 'http://40.124.169.219:3000/api/well/?well_id={well_id}&start_date={timestamp}&end_date={timestamp}', 'method': 'get', 'response_schema': {'fields': [{'name': 'production_volume_oil', 'pattern': 'production_volume.oil'}, {'name': 'production_volume_gas', 'pattern': 'production_volume.gas'}, {'name': 'production_volume_water', 'pattern': 'production_volume.water'}]}, 'body': {}}, {'api_link': 'http://40.124.169.219:3000/api/well/?well_id={well_id}&start_date=sub_seconds({timestamp}, 60)&end_date={timestamp}', 'response_schema': {'fields': [{'name': 'production_volume_oil_previous', 'pattern': 'production_volume.oil'}, {'name': 'production_volume_gas_previous', 'pattern': 'production_volume.gas'}, {'name': 'production_volume_water_previous', 'pattern': 'production_volume.water'}]}, 'method': 'get', 'body': {}}]}]}, 'userId': '642664152a9ea736837171b4', 'is_enabled': True, 'image': 'etl-modules', 'version': 'latest', 'source': {'id': '6424fb07a2f9c3246f4e2239', 'type': 'Pulsar', 'name': 'Pulsar', 'hostname': '40.124.169.219', 'port': '6650', 'api_port': '8080', 'tenant': 'public', 'namespace': 'default', 'api-version': '/admin/v2', 'topic': 'non-persistent://public/default/sensor', 'schema': {'type': 'record', 'name': 'SensorRecord', 'fields': [{'name': 'timestamp', 'type': ['null', 'string']}, {'name': 'temperature', 'type': ['null', 'int']}, {'name': 'pressure', 'type': ['null', 'int']}, {'name': 'flow_rate', 'type': ['null', 'int']}, {'name': 'well_id', 'type': ['null', 'string']}]}}, 'destinations': [{'id': '6437a2b67d71c3349d790c2c', 'type': 'MySQL', 'name': 'MySQL-Azure', 'host': '40.124.169.219', 'port': '3306', 'user': 'mysqluser', 'password': 'mysqlpw', 'database': 'inventory', 'ssl': False, 'schema': {'create_tables': ['CREATE TABLE `Tank` (`id` int NOT NULL AUTO_INCREMENT, well_id nvarchar(220) NULL, flow_rate int NULL, pressure int NULL, temperature int NULL, timestamp nvarchar(220) NULL, production_volume_water_previous nvarchar(220) NULL, production_volume_gas_previous nvarchar(220) NULL, production_volume_oil_previous nvarchar(220) NULL, production_volume_water nvarchar(220) NULL, production_volume_gas nvarchar(220) NULL, production_volume_oil nvarchar(220) NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB'], 'sink_to': 'Tank', 'select': ['well_id', 'flow_rate', 'pressure', 'temperature', 'timestamp', 'production_volume_water_previous', 'production_volume_gas_previous', 'production_volume_oil_previous', 'production_volume_water', 'production_volume_gas', 'production_volume_oil']}}, {'type': 'logfile', 'name': 'Logfile', 'schema': {'filename': '645a089e1628d80b5c824969.log', 'logpath': 'C:/tmp/Agent2/conf//sensor_data_644b808429387d3cb0318da0'}}]}
2023-05-09 08:47:27,710 - root - DEBUG - Location to load plugins = /app/src
2023-05-09 08:47:27,802 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.test_operator
2023-05-09 08:47:27,871 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.enrich_api_operator
2023-05-09 08:47:27,872 - plugin.discovery - DEBUG - found plugin spec in module_loader.operator_plugins.enrich_api_operator:ApiPDCombinePlugin PluginSpec(operator.enrich_api = <class 'module_loader.operator_plugins.enrich_api_operator.ApiPDCombinePlugin'>)
2023-05-09 08:47:27,874 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.pd_combine_operator
2023-05-09 08:47:27,874 - plugin.discovery - DEBUG - found plugin spec in module_loader.operator_plugins.pd_combine_operator:PDCombinePlugin PluginSpec(operator.pd_combine = <class 'module_loader.operator_plugins.pd_combine_operator.PDCombinePlugin'>)
2023-05-09 08:47:27,875 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.enrich_operator
2023-05-09 08:47:27,876 - plugin.discovery - DEBUG - found plugin spec in module_loader.operator_plugins.enrich_operator:PDCombinePlugin PluginSpec(operator.enrich = <class 'module_loader.operator_plugins.enrich_operator.PDCombinePlugin'>)
2023-05-09 08:47:27,918 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.enrichment_operator
2023-05-09 08:47:27,918 - plugin.discovery - DEBUG - found plugin spec in module_loader.operator_plugins.enrichment_operator:EnrichmentPlugin PluginSpec(operator.enrich_temp = <class 'module_loader.operator_plugins.enrichment_operator.EnrichmentPlugin'>)
2023-05-09 08:47:27,928 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.pd_enrich_operator
2023-05-09 08:47:27,929 - plugin.discovery - DEBUG - found plugin spec in module_loader.operator_plugins.pd_enrich_operator:PDEnrichPlugin PluginSpec(operator.pd_match1 = <class 'module_loader.operator_plugins.pd_enrich_operator.PDEnrichPlugin'>)
2023-05-09 08:47:27,929 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins
2023-05-09 08:47:27,933 - plugin.discovery - DEBUG - scanning module module_loader.operator_plugins.filter_operator
2023-05-09 08:47:27,934 - plugin.discovery - DEBUG - found plugin spec in module_loader.operator_plugins.filter_operator:MatchPlugin PluginSpec(operator.filter = <class 'module_loader.operator_plugins.filter_operator.MatchPlugin'>)
2023-05-09 08:47:27,935 - plugin.discovery - DEBUG - scanning module module_loader.source_plugins
2023-05-09 08:47:27,964 - plugin.discovery - DEBUG - scanning module module_loader.source_plugins.mysql_handler
2023-05-09 08:47:27,964 - plugin.discovery - DEBUG - found plugin spec in module_loader.source_plugins.mysql_handler:SourceMysqlPlugin PluginSpec(source.mysql = <class 'module_loader.source_plugins.mysql_handler.SourceMysqlPlugin'>)
2023-05-09 08:47:28,007 - plugin.discovery - DEBUG - scanning module module_loader.source_plugins.pulsar_handler
2023-05-09 08:47:28,007 - plugin.discovery - DEBUG - found plugin spec in module_loader.source_plugins.pulsar_handler:PulsarPlugin PluginSpec(source.pulsar = <class 'module_loader.source_plugins.pulsar_handler.PulsarPlugin'>)
2023-05-09 08:47:28,010 - plugin.discovery - DEBUG - scanning module module_loader.sink_plugins.mysql_handler
2023-05-09 08:47:28,011 - plugin.discovery - DEBUG - found plugin spec in module_loader.sink_plugins.mysql_handler:MysqlPlugin PluginSpec(sink.mysql = <class 'module_loader.sink_plugins.mysql_handler.MysqlPlugin'>)
2023-05-09 08:47:28,013 - plugin.discovery - DEBUG - scanning module module_loader.sink_plugins.logfile_handler
2023-05-09 08:47:28,013 - plugin.discovery - DEBUG - found plugin spec in module_loader.sink_plugins.logfile_handler:LogFilePlugin PluginSpec(sink.logfile = <class 'module_loader.sink_plugins.logfile_handler.LogFilePlugin'>)
2023-05-09 08:47:28,014 - plugin.discovery - DEBUG - scanning module module_loader.sink_plugins.oracle_handler
2023-05-09 08:47:28,015 - plugin.discovery - DEBUG - found plugin spec in module_loader.sink_plugins.oracle_handler:OraclePlugin PluginSpec(sink.oracle = <class 'module_loader.sink_plugins.oracle_handler.OraclePlugin'>)
2023-05-09 08:47:28,015 - plugin.discovery - DEBUG - scanning module module_loader.sink_plugins
2023-05-09 08:47:30,031 - root - DEBUG - Table already exists.
